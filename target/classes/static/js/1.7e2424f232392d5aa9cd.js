webpackJsonp([1],{MFzx:function(e,t){},VAuT:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={name:"home",data:function(){return{notice:5,routers:[],person:{age:"22",create_time:"2018-05-23 21:22:06",email:"523179414@qq.com",id:"1",last_login_time:"2019-11-15 16:07:37",password:"1dc99c9d72c158159cbebccdc1af1885",phone:"187888899991",salt:"53b0b184c03cf848ac57e5015999ec44",sex:"1",status:"1",update_time:"2019-11-12 22:45:46",user_id:"1",username:"admin"}}},created:function(){this.filterRouter()},mounted:function(){},methods:{notifyNone:function(){this.$notify({message:"不好意思，该功能暂未开发完成",position:"top-right",type:"warning",duration:1500})},clickMenu:function(e){console.log(e.id+":"+e.url)},toMyDepartment:function(){this.$router.push({path:"/myDepartment",query:{id:this.person.id,title:"我的部门"}})},toPersonCenter:function(){this.$router.push({path:"/personCenter",query:{id:this.person.id,title:"个人中心"}})},toIndex:function(){this.$router.push({path:"/index"})},exitLogin:function(){var e=this;this.$confirm("是否确定退出此账户","提示",{confirmButtonText:"我要退出",cancelButtonText:"我在想想",type:"warning"}).then(function(){e.$axios.post("/pms_api/logout").then(function(t){e.$message("成功退出"),e.$getGlobal.deleteItem("accessToken")}).catch(function(t){console.log("err",t),e.$message.warning("退出失败")}),e.$router.push({path:"/login"})})},filterRouter:function(){var e=this;get("/pms_api/menu").then(function(t){console.log(t);var n=t.rows,r=[];if(null!=n&&void 0!=n&&""!=n){for(var i in n)0==n[i].parentId&&r.push(n[i]);for(var o in console.log("最顶层routersTmp",r),r)r[o].children=[];for(var a in n)if(0!=n[a].parentId)for(var s in r)if(r[s].id==n[a].parentId){r[s].children.push(n[a]);break}for(var c in r.sort(function(e,t){return parseInt(e.orderNum)<parseInt(t.orderNum)?-1:parseInt(e.orderNum)>parseInt(t.orderNum)?1:e.url.localeCompare(t.url)}),r)r[c].children&&r[c].children.sort(function(e,t){return parseInt(e.orderNum)<parseInt(t.orderNum)?-1:parseInt(e.orderNum)>parseInt(t.orderNum)?1:e.url.localeCompare(t.url)});e.$getGlobal.setItem("routers",r),e.routers=r}}).catch(function(t){console.log(t),e.$message.error("请求路由集合出错"+t.code)})}}},i={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-container",{ref:"container_wrap",staticClass:"container_wrap"},[n("el-header",{staticClass:"header",attrs:{height:"45px"}},[n("div",{staticClass:"header_title",on:{click:e.toIndex}},[e._v(" \n        XX公司人事管理系统\n      ")]),e._v(" "),n("div",{staticClass:"navigation_right"},[n("el-dropdown",[n("el-badge",{staticClass:"item",attrs:{value:e.notice,type:"primary"}},[n("i",{staticClass:"el-icon-user-solid person_head"})]),e._v(" "),n("el-dropdown-menu",[n("el-dropdown-item",{nativeOn:{click:function(t){return e.toPersonCenter(t)}}},[e._v("个人中心")]),e._v(" "),n("el-dropdown-item",{nativeOn:{click:function(t){return e.toMyDepartment(t)}}},[e._v("我的部门")]),e._v(" "),n("el-dropdown-item",{nativeOn:{click:function(t){return e.notifyNone(t)}}},[e._v("最新消息("+e._s(e.notice)+")")]),e._v(" "),n("el-dropdown-item",{attrs:{divided:""},nativeOn:{click:function(t){return e.exitLogin(t)}}},[e._v("退出登录")])],1)],1)],1)]),e._v(" "),n("el-container",{staticClass:"container"},[n("el-aside",{staticClass:"container_aside window_scroll",attrs:{width:"150px"}},[n("el-menu",{staticClass:"el-menu-vertical-demo aside_menu",attrs:{"unique-opened":!0,"background-color":"#304156","text-color":"#BFCBD9",router:!0,"default-active":"/workdest"}},e._l(e.routers,function(t){return n("div",{key:t.id},[t.children.length<=0?n("el-menu-item",{attrs:{index:t.url,route:t.url,disabled:"0"==t.status}},[e._v(e._s(t.name))]):n("el-submenu",{attrs:{index:String(t.id)},on:{click:function(t){return e.clickMenu(e.keys)}}},[n("template",{slot:"title"},[e._v("\n                "+e._s(t.name)+"\n              ")]),e._v(" "),e._l(t.children,function(t){return n("div",{key:t.id,on:{click:function(n){return e.clickMenu(t)}}},[n("el-menu-item",{attrs:{index:t.url,route:t.url,disabled:"0"==t.status}},[e._v(e._s(t.name))])],1)})],2)],1)}),0)],1),e._v(" "),n("el-main",{staticClass:"container_main window_scroll"},[n("router-view")],1),e._v(" "),n("el-backtop",{attrs:{target:".container_main"}})],1)],1)},staticRenderFns:[]};var o=n("VU/8")(r,i,!1,function(e){n("zP6B"),n("MFzx")},"data-v-11e26885",null);t.default=o.exports},zP6B:function(e,t){}});
//# sourceMappingURL=1.7e2424f232392d5aa9cd.js.map