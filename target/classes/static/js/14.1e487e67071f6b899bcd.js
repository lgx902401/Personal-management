webpackJsonp([14],{V6VW:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={data:function(){return{personInfo:{username:"",password:"",rePassword:"",salt:"",email:"",phone:"",sex:"1",age:"",status:"1"},leave:{startTime:"",endTime:"",reason:"1",desc:""},leaveList:[{name:"张子涵",create_time:"2018-06-19 12:49:30",start_time:"2018-06-29 08:49:30",end_time:"2018-06-30 19:49:30",pass_time:"2018-06-20 12:49:30",status:"0",review:"陈丹"},{name:"张子涵",create_time:"2018-05-19 12:49:30",start_time:"2018-05-29 08:49:30",end_time:"2018-05-30 19:49:30",pass_time:"2018-05-20 12:49:30",status:"1",review:"陈丹"}],rewardList:[{name:"张子涵",reward_status:"1",deal_time:"2018-06-19 12:49:30",desc:"超额完成任务"},{name:"张子涵",reward_status:"0",deal_time:"2018-05-19 12:49:30",desc:"未完成任务"}],title:this.$route.query.title,leaveDialogVisible:!1,option_punch:{},option_mission:{},test:"",formStatus:!0,changePwdFlag:!1,chaPwd:{confirmNewPassword:"",newPassword:"",oldPassword:""},myDepartment:{}}},mounted:function(){this.echart_init(),this.getPerson()},methods:{back:function(){console.log(this.$route.query.title),this.$router.back(-1)},editPerson:function(){var e=this,t=this.personInfo;delete t.createTime,delete t.updateTime,delete t.lastLoginTime,console.log("user",t),post("/pms_api/user/edit",t).then(function(t){e.cancelEdit()}).catch(function(e){console.log(e)})},getPerson:function(){var e=this;get("/pms_api/user/detail").then(function(t){e.personInfo=t.data.rows[0],e.myDepartment=t.data.hasDepartment[0]}).catch(function(e){console.log(e)})},changePwd:function(){var e=this;post("/pms_api/user/changePassword",this.chaPwd).then(function(t){e.changePwdFlag=!1}).catch(function(t){e.changePwdFlag=!1,console.log(t)})},toDiv:function(e){window.location.hash=e},notifyNone:function(){this.$notify({message:"对不起，此功能暂未完成",type:"warning",position:"top-right",duration:1500})},echart_init:function(){this.option_punch={title:{text:"我的打卡情况",left:"center"},tooltip:{trigger:"item",formatter:"{b}情况: {c} ({d}%)"},series:{type:"pie",roseType:"angle",data:[{name:"请假",value:5},{name:"异常",value:2},{name:"正常",value:15}]},backgroundColor:"#FFF",labelLine:{lineStyle:{color:"#304156"}},textStyle:{color:"#304156"}},this.option_mission={title:{text:"小组任务完成情况",left:"center"},legend:{data:["项目一","项目二"],orient:"vertical",right:10,top:20,bottom:20},textStyle:{color:"#304156"},radar:{indicator:[{name:"张子涵",max:100},{name:"陈峰强",max:100},{name:"曹林",max:100},{name:"赵莹莹",max:100},{name:"李立强",max:100},{name:"周阳",max:100}]},series:[{type:"radar",label:{normal:{show:!0}},data:[{value:[90,85,80,60,82,70],name:"项目一"},{value:[70,50,68,53,72,58],name:"项目二"}]}]},this.$echarts.init(this.$refs.echart_punch).setOption(this.option_punch),this.$echarts.init(this.$refs.echart_mission).setOption(this.option_mission)},cellStyle:function(e){e.row,e.colum,e.rowIndex,e.columIndex;return"text-align: center"},rowClass:function(e){e.row,e.rowIndex;return"text-align: center"}}},i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ui-page"},[a("div",{staticClass:"ui-list ui-box"},[a("div",{staticClass:"box-header ui-list-header"},[a("div",[e._v("常用功能")]),e._v(" "),a("div",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.back}},[e._v("返回")])],1)]),e._v(" "),a("div",{staticClass:"item_row ui-detail-box"},[a("div",{staticClass:"item_column func_item",on:{click:function(t){e.leaveDialogVisible=!0}}},[a("i",{staticClass:"el-icon-remove box_icon"}),e._v("\n                我要请假\n            ")]),e._v(" "),a("div",{staticClass:"item_column func_item",on:{click:function(t){return e.toDiv("#reward_box")}}},[a("i",{staticClass:"el-icon-s-cooperation box_icon"}),e._v("\n                查看奖惩\n            ")]),e._v(" "),a("div",{staticClass:"item_column func_item",on:{click:function(t){return e.toDiv("#person_box")}}},[a("i",{staticClass:"el-icon-user-solid box_icon"}),e._v("\n                个人信息\n            ")])])]),e._v(" "),a("div",{staticClass:"ui-list ui-box"},[e._m(0),e._v(" "),a("div",{staticClass:"item_row ui-detail-box"},[a("div",{ref:"echart_punch",staticClass:"echart_punch"}),e._v(" "),a("div",{ref:"echart_mission",staticClass:"echart_punch"})])]),e._v(" "),a("div",{staticClass:"ui-list ui-box"},[a("div",{staticClass:"box-header ui-list-header"},[a("div",[e._v("请假记录")]),e._v(" "),a("div",[a("el-button",{attrs:{size:"mini"}},[e._v("刷新")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"}},[e._v("导出")])],1)]),e._v(" "),a("el-table",{attrs:{data:e.leaveList,"cell-style":e.cellStyle,"header-cell-style":e.rowClass}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"姓名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"create_time",label:"申请时间","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"start_time",label:"开始时间","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"end_time",label:"结束时间","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"review",label:"审核人","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"申请状态"},scopedSlots:e._u([{key:"default",fn:function(e){return[1==e.row.status?a("el-button",{attrs:{type:"success",icon:"el-icon-check",circle:"",size:"mini"}}):a("el-button",{attrs:{type:"danger",icon:"el-icon-close",circle:"",size:"mini"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"pass_time",label:"通过时间","show-overflow-tooltip":""}})],1)],1),e._v(" "),a("div",{staticClass:"ui-list ui-box",attrs:{id:"reward_box"}},[a("div",{staticClass:"box-header ui-list-header"},[a("div",[e._v("奖惩情况")]),e._v(" "),a("div",[a("el-button",{attrs:{type:"primary",size:"mini"}},[e._v("导出")])],1)]),e._v(" "),a("el-table",{attrs:{data:e.rewardList,"cell-style":e.cellStyle,"header-cell-style":e.rowClass}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"姓名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"reward_status",label:"奖励/惩罚","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.reward_status?a("span",{staticClass:"reward_status"},[e._v("奖励")]):a("span",{staticClass:"reward_status",staticStyle:{color:"red"}},[e._v("惩罚")])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"deal_time",label:"处理时间","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"desc",label:"原因","show-overflow-tooltip":""}})],1)],1),e._v(" "),a("div",{staticClass:"ui-list ui-box",attrs:{id:"person_box"}},[a("div",{staticClass:"box-header ui-list-header"},[a("div",[e._v("个人信息")]),e._v(" "),a("div",[a("el-button",{attrs:{type:"primary",size:"mini"}},[e._v("导出")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){e.changePwdFlag=!0}}},[e._v("修改密码")])],1)]),e._v(" "),a("el-form",{staticClass:"ui-search-form",attrs:{"label-width":"120px",disabled:e.formStatus}},[a("el-form-item",{attrs:{label:"用户名",prop:"username"}},[a("el-input",{staticClass:"ui-item-reset",attrs:{size:"small"},model:{value:e.personInfo.username,callback:function(t){e.$set(e.personInfo,"username",t)},expression:"personInfo.username"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号",prop:"phone"}},[a("el-input",{staticClass:"ui-item-reset",attrs:{size:"small"},model:{value:e.personInfo.phone,callback:function(t){e.$set(e.personInfo,"phone",t)},expression:"personInfo.phone"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{staticClass:"ui-item-reset",attrs:{size:"small"},model:{value:e.personInfo.email,callback:function(t){e.$set(e.personInfo,"email",t)},expression:"personInfo.email"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"年龄"}},[a("el-input",{staticClass:"ui-item-reset",attrs:{size:"small"},model:{value:e.personInfo.age,callback:function(t){e.$set(e.personInfo,"age",t)},expression:"personInfo.age"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"所属部门"}},[a("el-input",{staticClass:"ui-item-reset",attrs:{disabled:"",size:"small"},model:{value:e.myDepartment.name,callback:function(t){e.$set(e.myDepartment,"name",t)},expression:"myDepartment.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"性别"}},[a("el-radio",{staticClass:"item_radio",attrs:{label:1,border:"",size:"small"},model:{value:e.personInfo.sex,callback:function(t){e.$set(e.personInfo,"sex",t)},expression:"personInfo.sex"}},[e._v("男")]),e._v(" "),a("el-radio",{staticClass:"item_radio",attrs:{label:2,border:"",size:"small"},model:{value:e.personInfo.sex,callback:function(t){e.$set(e.personInfo,"sex",t)},expression:"personInfo.sex"}},[e._v("女")])],1)],1),e._v(" "),a("div",{staticClass:"ui-detail-btus"},[e.formStatus?a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.formStatus=!1}}},[e._v("编辑")]):a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.formStatus=!0}}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.editPerson}},[e._v("保存")])],1)],1),e._v(" "),a("el-dialog",{attrs:{title:"申请请假",visible:e.leaveDialogVisible,width:"40%"},on:{"update:visible":function(t){e.leaveDialogVisible=t}}},[a("div",{staticClass:"ui-box leave_dialog"},[a("el-form",{staticClass:"left_form",attrs:{model:e.leave,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"开始时间"}},[a("el-date-picker",{staticClass:"leave_item_reset",attrs:{type:"datetime",placeholder:"选择开始时间",size:"mini"},model:{value:e.leave.startTime,callback:function(t){e.$set(e.leave,"startTime",t)},expression:"leave.startTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"开始时间"}},[a("el-date-picker",{staticClass:"leave_item_reset",attrs:{type:"datetime",placeholder:"选择结束时间",size:"mini"},model:{value:e.leave.endTime,callback:function(t){e.$set(e.leave,"endTime",t)},expression:"leave.endTime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"请假原由"}},[a("el-select",{staticClass:"leave_item_reset",attrs:{placeholder:"请假原由",size:"mini"},model:{value:e.leave.reason,callback:function(t){e.$set(e.leave,"reason",t)},expression:"leave.reason"}},[a("el-option",{attrs:{label:"事假",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"病假",value:"2"}}),e._v(" "),a("el-option",{attrs:{label:"其他",value:"2"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"原因备注"}},[a("el-input",{staticClass:"leave_item_reset",attrs:{type:"textarea"},model:{value:e.leave.desc,callback:function(t){e.$set(e.leave,"desc",t)},expression:"leave.desc"}})],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.leaveDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){e.leaveDialogVisible=!1}}},[e._v("确 定")])],1)]),e._v(" "),a("el-dialog",{attrs:{title:"修改密码",visible:e.changePwdFlag,width:"400px"},on:{"update:visible":function(t){e.changePwdFlag=t}}},[a("el-form",{staticClass:"ui-search-form",attrs:{"label-width":"120px"}},[a("el-form-item",{attrs:{label:"旧密码"}},[a("el-input",{staticClass:"ui-item-reset",attrs:{size:"mini"},model:{value:e.chaPwd.oldPassword,callback:function(t){e.$set(e.chaPwd,"oldPassword",t)},expression:"chaPwd.oldPassword"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"新密码"}},[a("el-input",{staticClass:"ui-item-reset",attrs:{size:"mini"},model:{value:e.chaPwd.newPassword,callback:function(t){e.$set(e.chaPwd,"newPassword",t)},expression:"chaPwd.newPassword"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"新密码"}},[a("el-input",{staticClass:"ui-item-reset",attrs:{size:"mini",placeholder:"请再次输入新密码"},model:{value:e.chaPwd.confirmNewPassword,callback:function(t){e.$set(e.chaPwd,"confirmNewPassword",t)},expression:"chaPwd.confirmNewPassword"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.changePwdFlag=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.changePwd}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"box-header ui-list-header"},[t("div",[this._v("本月打卡情况")])])}]};var l=a("VU/8")(s,i,!1,function(e){a("d4Sp")},null,null);t.default=l.exports},d4Sp:function(e,t){}});
//# sourceMappingURL=14.1e487e67071f6b899bcd.js.map