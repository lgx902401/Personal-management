{"version":3,"sources":["webpack:///src/views/user/userDetail.vue","webpack:///./src/views/user/userDetail.vue?082a","webpack:///./src/views/user/userDetail.vue"],"names":["userDetail","name","data","userId","this","$route","query","id","userItem","editFlag","roleList","roleListAll","hasRoles","addRoleFlag","roleItem","changePwdFlag","chaPwd","confirmNewPassword","newPassword","oldPassword","created","getItem","getRole","methods","back","console","log","$router","cancelEdit","saveItem","_this","users","createTime","updateTime","lastLoginTime","post","then","res","catch","err","isAdmin","_this2","$confirm","confirmButtonText","type","changePwd","userTmp","password","_this3","rows","_this4","i","j","roleId","push","select","addRole","_this5","roleIdStrTmp","params","roleIdStr","checkRole","item","path","title","deleteRole","_this6","cancelButtonText","$index","$message","message","cellStyle","_ref","row","colum","rowIndex","columIndex","rowClass","_ref2","user_userDetail","render","_vm","_h","$createElement","_c","_self","staticClass","_v","_s","attrs","size","on","click","label-width","label","disabled","model","value","callback","$$v","$set","expression","placeholder","$event","cell-style","header-cell-style","prop","scopedSlots","_u","key","fn","scope","status","icon","circle","show-overflow-tooltip","visible","update:visible","_l","slot","width","show-password","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/16.a45e855684eea6a0793d.js","sourcesContent":["<style lang=\"scss\">\r\n.ui-page{\r\n    padding-bottom: 20px;\r\n    .ui-detail-box{\r\n        .ui-detail-btus{\r\n        // text-align: right;\r\n        }\r\n    }\r\n}\r\n</style>\r\n<template>\r\n    <div class=\"ui-page\">\r\n        <div class=\"ui-list ui-box\">\r\n            <div class=\"box-header ui-list-header\">\r\n                <div>{{this.$route.query.title}}详情</div>\r\n                <div>\r\n                    <el-button type=\"primary\" size=\"mini\" @click=\"back\">返回</el-button>\r\n                    <el-button type=\"primary\" size=\"mini\" @click=\"isAdmin\">修改密码</el-button>\r\n                </div>\r\n            </div>\r\n            <div class=\"ui-detail-box\">\r\n                <el-form class=\"ui-search-form\"  label-width=\"120px\">\r\n                    <el-form-item label=\"用户id\">\r\n                        <el-input size=\"mini\" disabled class=\"ui-item-reset\" v-model=\"userItem.userId\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"名称\">\r\n                        <el-input size=\"mini\" class=\"ui-item-reset\" v-model=\"userItem.username\" :disabled=\"editFlag\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"邮箱\">\r\n                        <el-input size=\"mini\" class=\"ui-item-reset\" v-model=\"userItem.email\" :disabled=\"editFlag\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"手机\">\r\n                        <el-input size=\"mini\" class=\"ui-item-reset\" v-model=\"userItem.phone\" :disabled=\"editFlag\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"性别\">\r\n                        <el-select placeholder=\"请选择\" size=\"mini\" class=\"ui-item-reset\" v-model=\"userItem.sex\" :disabled=\"editFlag\">\r\n                            <el-option label=\"男\" :value='1'></el-option>\r\n                            <el-option label=\"女\" :value='2'></el-option>\r\n                        </el-select>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"年龄\">\r\n                        <el-input size=\"mini\" class=\"ui-item-reset\" v-model=\"userItem.age\" :disabled=\"editFlag\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"状态\">\r\n                        <el-select placeholder=\"请选择\" size=\"mini\" class=\"ui-item-reset\" v-model=\"userItem.status\" :disabled=\"editFlag\">\r\n                            <el-option label=\"禁用\" :value=\"2\"></el-option>\r\n                            <el-option label=\"启用\" :value=\"1\"></el-option>\r\n                        </el-select>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"创建时间\">\r\n                        <el-input size=\"mini\" disabled class=\"ui-item-reset\" v-model=\"userItem.createTime\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"更新时间\">\r\n                        <el-input size=\"mini\" disabled class=\"ui-item-reset\" v-model=\"userItem.updateTime\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item label=\"上次登录时间\">\r\n                        <el-input size=\"mini\" disabled class=\"ui-item-reset\" v-model=\"userItem.lastLoginTime\"></el-input>\r\n                    </el-form-item>\r\n                </el-form>\r\n                <div class=\"ui-detail-btus\">\r\n                    <el-button size=\"mini\" @click=\"editFlag=false\" v-if=\"editFlag\">编辑</el-button>\r\n                    <el-button size=\"mini\" @click=\"cancelEdit\" v-else>取消</el-button>\r\n                    <el-button type=\"primary\" size=\"mini\" @click=\"saveItem\" :disabled=\"editFlag\">保存</el-button>\r\n                </div>\r\n            </div>\r\n        </div> \r\n        <div class=\"ui-list ui-box\">\r\n            <div class=\"box-header ui-list-header\">\r\n                <div>用户关联角色</div>\r\n                <div>\r\n                    <el-button type=\"primary\" size=\"mini\" @click=\"addRoleFlag=true\">新增</el-button>\r\n                </div>\r\n            </div>\r\n            <div class=\"ui-detail-box\">\r\n                <el-table :data=\"roleList\" :cell-style=\"cellStyle\" :header-cell-style=\"rowClass\">\r\n                    <el-table-column prop=\"roleId\" label=\"角色ID\"></el-table-column>\r\n                    <el-table-column prop=\"name\" label=\"名称\"></el-table-column>\r\n                    <el-table-column prop=\"description\" label=\"描述\"></el-table-column>\r\n                    <el-table-column prop=\"status\" label=\"状态\">\r\n                        <template slot-scope=\"scope\">\r\n                            <el-button type=\"success\" icon=\"el-icon-check\" circle size=\"mini\" v-if=\"scope.row.status==1\"></el-button>\r\n                            <el-button type=\"danger\" icon=\"el-icon-close\" circle v-else size=\"mini\"></el-button>\r\n                        </template>\r\n                    </el-table-column>\r\n                    <el-table-column prop=\"createTime\" label=\"创建时间\" show-overflow-tooltip></el-table-column>\r\n                    <el-table-column prop=\"updateTime\" label=\"更新时间\" show-overflow-tooltip></el-table-column>\r\n                    <el-table-column label=\"操作\">\r\n                        <template slot-scope=\"scope\">\r\n                                <el-button size=\"mini\" @click=\"checkRole(scope.row)\">详情</el-button>\r\n                                <el-button size=\"mini\" type=\"danger\" @click=\"deleteRole(scope)\">删除</el-button>\r\n                        </template>\r\n                    </el-table-column>\r\n                </el-table>\r\n            </div>\r\n        </div> \r\n        <el-dialog title=\"请选择要添加的角色\" :visible.sync=\"addRoleFlag\">\r\n            <el-select v-model=\"roleItem\" placeholder=\"请选择\" size=\"mini\">\r\n                <el-option :label=\"item.name\" :value=\"item.roleId\" v-for=\"item in roleListAll\" :key=\"item.roleId\" :disabled=\"item.select==1\"></el-option>\r\n            </el-select>\r\n            <div slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"addRoleFlag = false\">取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"addRole\">确 定</el-button>\r\n            </div>\r\n        </el-dialog>\r\n        <el-dialog title=\"修改密码\" :visible.sync=\"changePwdFlag\" width=\"400px\">\r\n            <el-form class=\"ui-search-form\"  label-width=\"120px\">\r\n                <el-form-item label=\"新密码\">\r\n                    <el-input size=\"mini\" class=\"ui-item-reset\" type=\"password\" v-model=\"userItem.password\" show-password></el-input>\r\n                </el-form-item>\r\n            </el-form>\r\n            <div slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"changePwdFlag = false\" size=\"mini\">取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"changePwd\" size=\"mini\">确 定</el-button>\r\n            </div>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n    name: 'permissionsDetail',\r\n    data(){\r\n        return{\r\n            userId: this.$route.query.id,\r\n            userItem:{},\r\n            editFlag: true,\r\n            roleList: [], // 已绑定的角色\r\n            roleListAll: [], // 未绑定的角色\r\n            hasRoles: [],\r\n            addRoleFlag: false,\r\n            roleItem: '', // 准备绑定的角色\r\n            changePwdFlag: false,\r\n            chaPwd:{\r\n                confirmNewPassword: '',\r\n                newPassword: '',\r\n                oldPassword: ''\r\n            }\r\n        }\r\n    },\r\n    created(){\r\n        this.getItem()\r\n        // this.userItem=this.$route.query.userItem\r\n        this.getRole()\r\n    },\r\n    methods:{\r\n        back(){\r\n            console.log(this.$route)\r\n            this.$router.back(-1);\r\n        },\r\n        cancelEdit(){\r\n            this.editFlag=!this.editFlag;\r\n            // this.getItem()\r\n        },\r\n        saveItem(){\r\n            let users=this.userItem\r\n            delete users.createTime\r\n            delete users.updateTime\r\n            delete users.lastLoginTime\r\n            console.log('user',users)\r\n            post(`/pms_api/user/edit`,users).then(res => {\r\n                this.cancelEdit()\r\n            }).catch(err => {\r\n                console.log(err)\r\n            })\r\n        },\r\n        isAdmin(){\r\n            post(`/pms_api/user/detail`,).then(res => {\r\n                if(res.data.hasRoles[0]!='1'){\r\n                    this.$confirm('此操作仅限超级管理员使用,普通用户请前去个人中心修改密码','提示',{\r\n                        confirmButtonText: '确定',\r\n                        type: 'warning'\r\n                    }).then(()=>{\r\n                    }).catch(()=>{})\r\n                }else{\r\n                    this.changePwdFlag=true\r\n                }\r\n            }).catch(err => {\r\n                console.log(err)\r\n            })\r\n            \r\n        },\r\n        changePwd(){\r\n            let userTmp={newPassword:this.userItem.password,userId:this.userItem.userId}\r\n            post(`/pms_api/user/adminChangePassword`,userTmp).then(res => {\r\n            }).catch(err => {\r\n                console.log(err)\r\n            })\r\n            this.changePwdFlag=false\r\n        },\r\n        getItem(){\r\n            post(`/pms_api/user/detail?userId=${this.userId}`).then(res => {\r\n                console.log('res',res)\r\n                this.userItem=res.data.rows[0]\r\n            }).catch(err => {\r\n                console.log(err)\r\n            })\r\n        },\r\n        // 以下为操作用户绑定的角色\r\n        getRole(){\r\n            post(`/pms_api/user/assign/role/list`,{userId:this.userId}).then(res => {\r\n                // console.log('res',res)\r\n                this.roleListAll=res.data.rows\r\n                this.hasRoles=res.data.hasRoles\r\n                this.roleList=[]\r\n                for(let i in this.hasRoles){\r\n                    for(let j in this.roleListAll){\r\n                        if(this.hasRoles[i]==this.roleListAll[j].roleId){\r\n                            this.roleList.push(this.roleListAll[j])\r\n                            this.roleListAll[j].select='1'\r\n                        }\r\n                    }\r\n                }\r\n                \r\n            }).catch(err => {\r\n                console.log(err)\r\n            })\r\n        },\r\n        addRole(){\r\n            let roleIdStrTmp=this.hasRoles\r\n            roleIdStrTmp.push(this.roleItem)\r\n            let params={userId:this.userItem.userId,roleIdStr:roleIdStrTmp}\r\n            post(`/pms_api/user/assign/role`,params).then(res => {\r\n                this.getRole()\r\n            }).catch(err => {\r\n                console.log(err)\r\n            })\r\n            this.addRoleFlag=!this.addRoleFlag;\r\n            this.roleItem=''\r\n        },\r\n        checkRole(item){\r\n            this.$router.push({\r\n                path: '/roleDetail',\r\n                query:{\r\n                    title: item.name,\r\n                    id: item.roleId,\r\n                }\r\n            })\r\n        },\r\n        deleteRole(item){\r\n            this.$confirm('此操作将取消该角色与用户的绑定，是否继续','提示',{\r\n                confirmButtonText: '确定',\r\n                cancelButtonText: '取消',\r\n                type: 'warning'\r\n            }).then(() => {\r\n                delete this.hasRoles[item.$index]\r\n                let params={userId:this.userItem.userId,roleIdStr:this.hasRoles}\r\n                post(`/pms_api/user/assign/role`,params).then(res => {\r\n                    this.getRole()\r\n                    this.$message({\r\n                        type: 'success',\r\n                        message: '删除成功!'\r\n                    });\r\n                }).catch(err => {\r\n                    console.log(err)\r\n                })\r\n            }).catch(err => {})\r\n        },\r\n\r\n        //表格居中\r\n        cellStyle({row, colum, rowIndex, columIndex}){\r\n            return \"text-align: center\";\r\n        },\r\n        rowClass({row, rowIndex}){\r\n            return \"text-align: center\";\r\n        }\r\n    }\r\n}\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/views/user/userDetail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"ui-page\"},[_c('div',{staticClass:\"ui-list ui-box\"},[_c('div',{staticClass:\"box-header ui-list-header\"},[_c('div',[_vm._v(_vm._s(this.$route.query.title)+\"详情\")]),_vm._v(\" \"),_c('div',[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.back}},[_vm._v(\"返回\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.isAdmin}},[_vm._v(\"修改密码\")])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"ui-detail-box\"},[_c('el-form',{staticClass:\"ui-search-form\",attrs:{\"label-width\":\"120px\"}},[_c('el-form-item',{attrs:{\"label\":\"用户id\"}},[_c('el-input',{staticClass:\"ui-item-reset\",attrs:{\"size\":\"mini\",\"disabled\":\"\"},model:{value:(_vm.userItem.userId),callback:function ($$v) {_vm.$set(_vm.userItem, \"userId\", $$v)},expression:\"userItem.userId\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"名称\"}},[_c('el-input',{staticClass:\"ui-item-reset\",attrs:{\"size\":\"mini\",\"disabled\":_vm.editFlag},model:{value:(_vm.userItem.username),callback:function ($$v) {_vm.$set(_vm.userItem, \"username\", $$v)},expression:\"userItem.username\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"邮箱\"}},[_c('el-input',{staticClass:\"ui-item-reset\",attrs:{\"size\":\"mini\",\"disabled\":_vm.editFlag},model:{value:(_vm.userItem.email),callback:function ($$v) {_vm.$set(_vm.userItem, \"email\", $$v)},expression:\"userItem.email\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"手机\"}},[_c('el-input',{staticClass:\"ui-item-reset\",attrs:{\"size\":\"mini\",\"disabled\":_vm.editFlag},model:{value:(_vm.userItem.phone),callback:function ($$v) {_vm.$set(_vm.userItem, \"phone\", $$v)},expression:\"userItem.phone\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"性别\"}},[_c('el-select',{staticClass:\"ui-item-reset\",attrs:{\"placeholder\":\"请选择\",\"size\":\"mini\",\"disabled\":_vm.editFlag},model:{value:(_vm.userItem.sex),callback:function ($$v) {_vm.$set(_vm.userItem, \"sex\", $$v)},expression:\"userItem.sex\"}},[_c('el-option',{attrs:{\"label\":\"男\",\"value\":1}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"女\",\"value\":2}})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"年龄\"}},[_c('el-input',{staticClass:\"ui-item-reset\",attrs:{\"size\":\"mini\",\"disabled\":_vm.editFlag},model:{value:(_vm.userItem.age),callback:function ($$v) {_vm.$set(_vm.userItem, \"age\", $$v)},expression:\"userItem.age\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"状态\"}},[_c('el-select',{staticClass:\"ui-item-reset\",attrs:{\"placeholder\":\"请选择\",\"size\":\"mini\",\"disabled\":_vm.editFlag},model:{value:(_vm.userItem.status),callback:function ($$v) {_vm.$set(_vm.userItem, \"status\", $$v)},expression:\"userItem.status\"}},[_c('el-option',{attrs:{\"label\":\"禁用\",\"value\":2}}),_vm._v(\" \"),_c('el-option',{attrs:{\"label\":\"启用\",\"value\":1}})],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"创建时间\"}},[_c('el-input',{staticClass:\"ui-item-reset\",attrs:{\"size\":\"mini\",\"disabled\":\"\"},model:{value:(_vm.userItem.createTime),callback:function ($$v) {_vm.$set(_vm.userItem, \"createTime\", $$v)},expression:\"userItem.createTime\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"更新时间\"}},[_c('el-input',{staticClass:\"ui-item-reset\",attrs:{\"size\":\"mini\",\"disabled\":\"\"},model:{value:(_vm.userItem.updateTime),callback:function ($$v) {_vm.$set(_vm.userItem, \"updateTime\", $$v)},expression:\"userItem.updateTime\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"上次登录时间\"}},[_c('el-input',{staticClass:\"ui-item-reset\",attrs:{\"size\":\"mini\",\"disabled\":\"\"},model:{value:(_vm.userItem.lastLoginTime),callback:function ($$v) {_vm.$set(_vm.userItem, \"lastLoginTime\", $$v)},expression:\"userItem.lastLoginTime\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"ui-detail-btus\"},[(_vm.editFlag)?_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){_vm.editFlag=false}}},[_vm._v(\"编辑\")]):_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":_vm.cancelEdit}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"disabled\":_vm.editFlag},on:{\"click\":_vm.saveItem}},[_vm._v(\"保存\")])],1)],1)]),_vm._v(\" \"),_c('div',{staticClass:\"ui-list ui-box\"},[_c('div',{staticClass:\"box-header ui-list-header\"},[_c('div',[_vm._v(\"用户关联角色\")]),_vm._v(\" \"),_c('div',[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.addRoleFlag=true}}},[_vm._v(\"新增\")])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"ui-detail-box\"},[_c('el-table',{attrs:{\"data\":_vm.roleList,\"cell-style\":_vm.cellStyle,\"header-cell-style\":_vm.rowClass}},[_c('el-table-column',{attrs:{\"prop\":\"roleId\",\"label\":\"角色ID\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":\"名称\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"description\",\"label\":\"描述\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"status\",\"label\":\"状态\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.status==1)?_c('el-button',{attrs:{\"type\":\"success\",\"icon\":\"el-icon-check\",\"circle\":\"\",\"size\":\"mini\"}}):_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"el-icon-close\",\"circle\":\"\",\"size\":\"mini\"}})]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"createTime\",\"label\":\"创建时间\",\"show-overflow-tooltip\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"updateTime\",\"label\":\"更新时间\",\"show-overflow-tooltip\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.checkRole(scope.row)}}},[_vm._v(\"详情\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.deleteRole(scope)}}},[_vm._v(\"删除\")])]}}])})],1)],1)]),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"请选择要添加的角色\",\"visible\":_vm.addRoleFlag},on:{\"update:visible\":function($event){_vm.addRoleFlag=$event}}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\",\"size\":\"mini\"},model:{value:(_vm.roleItem),callback:function ($$v) {_vm.roleItem=$$v},expression:\"roleItem\"}},_vm._l((_vm.roleListAll),function(item){return _c('el-option',{key:item.roleId,attrs:{\"label\":item.name,\"value\":item.roleId,\"disabled\":item.select==1}})}),1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.addRoleFlag = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addRole}},[_vm._v(\"确 定\")])],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"修改密码\",\"visible\":_vm.changePwdFlag,\"width\":\"400px\"},on:{\"update:visible\":function($event){_vm.changePwdFlag=$event}}},[_c('el-form',{staticClass:\"ui-search-form\",attrs:{\"label-width\":\"120px\"}},[_c('el-form-item',{attrs:{\"label\":\"新密码\"}},[_c('el-input',{staticClass:\"ui-item-reset\",attrs:{\"size\":\"mini\",\"type\":\"password\",\"show-password\":\"\"},model:{value:(_vm.userItem.password),callback:function ($$v) {_vm.$set(_vm.userItem, \"password\", $$v)},expression:\"userItem.password\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){_vm.changePwdFlag = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.changePwd}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2984cd60\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/user/userDetail.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2984cd60\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./userDetail.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./userDetail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./userDetail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2984cd60\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./userDetail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/user/userDetail.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}