webpackJsonp([11],{"+gcs":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("LGwj"),i={name:"addItem",props:{roleItem:{}},data:function(){return{formRule:{name:[{required:!0,message:"请输入名称",trigger:"blur"}],description:[{required:!0,message:"请输入描述",trigger:"blur"}]},addDialogVisible:!1,title:""}},methods:{submit:function(){console.log("emit"),this.$emit("submit")},openWindow:function(e){this.title=e,this.addDialogVisible=!0}}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:e.title,visible:e.addDialogVisible,width:"35%"},on:{"update:visible":function(t){e.addDialogVisible=t}}},[a("div",{staticClass:"ui-box leave_dialog"},[a("el-form",{attrs:{model:e.roleItem,"label-width":"80px",rules:e.formRule}},[a("el-form-item",{attrs:{label:"名称"}},[a("el-input",{staticClass:"item_reset",attrs:{size:"mini"},model:{value:e.roleItem.name,callback:function(t){e.$set(e.roleItem,"name",t)},expression:"roleItem.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{staticClass:"item_reset",attrs:{placeholder:"请选择",size:"mini"},model:{value:e.roleItem.status,callback:function(t){e.$set(e.roleItem,"status",t)},expression:"roleItem.status"}},[a("el-option",{attrs:{label:"禁用",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"启用",value:"1"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"描述"}},[a("el-input",{staticClass:"item_reset",attrs:{size:"mini"},model:{value:e.roleItem.description,callback:function(t){e.$set(e.roleItem,"description",t)},expression:"roleItem.description"}})],1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"mini"},on:{click:function(t){e.addDialogVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.submit}},[e._v("确 定")])],1)])},staticRenderFns:[]};var s=a("VU/8")(i,o,!1,function(e){a("nrDd")},null,null).exports,n={name:"roleList",components:{pageBox:l.a,addItem:s},data:function(){return{dataList:[],exportList:[],test:"1",roleItem:{name:"",status:"1",description:""},tabLoading:!1,params:{roleId:"",name:""}}},created:function(){this.getData(),console.log("进入了rolelist2")},methods:{getData:function(){var e=this;this.tabLoading=!0,post("/pms_api/role/list",this.params).then(function(t){e.dataList=t.rows,e.tabLoading=!1}).catch(function(t){console.log(t),e.tabLoading=!1})},addItem:function(){var e=this;post("/pms_api/role/add",this.roleItem).then(function(t){e.$refs.addPerm.addDialogVisible=!1,e.getData()}).catch(function(e){console.log(e)})},open:function(){this.$refs.addPerm.openWindow("新增角色")},checkDetail:function(e){this.$router.push({path:"/roleDetail",query:{title:e.name,id:e.roleId}})},deleteItem:function(e){var t=this;post("/pms_api/role/delete",{roleId:e.roleId}).then(function(e){t.getData()}).catch(function(e){console.log(e)})},handleSelectionChange:function(e){this.exportList=e},exportExcel:function(){this.$message.warning("抱歉，无法导出")},cellStyle:function(e){e.row,e.colum,e.rowIndex,e.columIndex;return"text-align: center"},rowClass:function(e){e.row,e.rowIndex;return"text-align: center"}}},r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("page-box",[a("div",{staticClass:"ui-search-box",attrs:{slot:"search-form"},slot:"search-form"},[a("el-form",{staticClass:"ui-search-form",attrs:{"label-width":"120px"}},[a("el-form-item",{attrs:{label:"角色id"}},[a("el-input",{staticClass:"ui-item-reset",attrs:{size:"mini",clearable:""},model:{value:e.params.roleId,callback:function(t){e.$set(e.params,"roleId",t)},expression:"params.roleId"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"名称"}},[a("el-input",{staticClass:"ui-item-reset",attrs:{size:"mini",clearable:""},model:{value:e.params.name,callback:function(t){e.$set(e.params,"name",t)},expression:"params.name"}})],1)],1),e._v(" "),a("div",{staticClass:"ui-search-btus"},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.getData}},[e._v("搜索")])],1)],1),e._v(" "),a("div",{staticClass:"ui-list ui-box",attrs:{slot:"list-box"},slot:"list-box"},[a("div",{staticClass:"box-header ui-list-header"},[a("div",[e._v("角色列表")]),e._v(" "),a("div",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.exportExcel}},[e._v("导出")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.open}},[e._v("新增")])],1)]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tabLoading,expression:"tabLoading"}],attrs:{data:e.dataList,"cell-style":e.cellStyle,"header-cell-style":e.rowClass},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"roleId",label:"角色id"}}),e._v(" "),a("el-table-column",{attrs:{prop:"name",label:"名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"description",label:"说明"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态"},scopedSlots:e._u([{key:"default",fn:function(e){return[1==e.row.status?a("el-button",{attrs:{type:"success",icon:"el-icon-check",circle:"",size:"mini"}}):a("el-button",{attrs:{type:"danger",icon:"el-icon-close",circle:"",size:"mini"}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{prop:"updateTime",label:"更新时间","show-overflow-tooltip":""}}),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.checkDetail(t.row)}}},[e._v("详情")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.deleteItem(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("add-item",{ref:"addPerm",attrs:{roleItem:e.roleItem},on:{"update:roleItem":function(t){e.roleItem=t},"update:role-item":function(t){e.roleItem=t},submit:e.addItem}})],1)])},staticRenderFns:[]};var c=a("VU/8")(n,r,!1,function(e){a("N0bt")},"data-v-b52c16ae",null);t.default=c.exports},N0bt:function(e,t){},nrDd:function(e,t){}});
//# sourceMappingURL=11.188b691f4c95fb5d5ed9.js.map